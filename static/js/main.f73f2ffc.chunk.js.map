{"version":3,"sources":["global/context/providers/MovieProvider.js","global/context/index.js","pages/Home/components/Progress/Progress.js","pages/Home/components/Cart/Cart.js","utils/movieQueries.js","pages/Home/components/Poster/Poster.js","pages/Home/components/Search/Search.js","pages/Home/containers/Home.js","index.js"],"names":["MovieContext","createContext","initialState","nominees","localState","JSON","parse","localStorage","getItem","reducer","state","action","type","payload","MovieContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","GlobalContextProvider","useGlobalContext","movie","useContext","Progress","done","valueDisplay","Box","position","display","CircularProgress","style","color","width","height","variant","top","left","bottom","right","alignItems","justifyContent","Typography","component","Cart","globalContext","movieState","movieDispatch","removePoster","event","newNoms","filter","nominee","target","alt","title","className","length","map","ind","src","onClick","onKeyDown","role","tabIndex","Paper","getMovieSearch","searchId","a","url","URL","process","search","URLSearchParams","apikey","s","axios","get","toString","then","result","data","Search","catch","error","console","log","Poster","poster","year","handleChoose","repeatTitle","push","currentSrc","useState","query","setQuery","queryResults","setQueryResults","timeOutId","setTimeout","results","clearTimeout","InputBase","fullWidth","placeholder","inputProps","onChange","Title","Year","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f73f2ffc.chunk.js","sourcesContent":["import React, { createContext, useReducer, useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nconst MovieContext = createContext();\n\nconst initialState = {\n  nominees: [],\n};\n\nconst localState = JSON.parse(localStorage.getItem('nominees'));\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_NOMINEES':\n      return { ...state, nominees: action.payload.nominees };\n    default:\n      return null;\n  }\n};\n\nexport const MovieContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, localState || initialState);\n\n  useEffect(() => {\n    localStorage.setItem('nominees', JSON.stringify(state));\n  }, [state]);\n\n  return (\n    <MovieContext.Provider value={[state, dispatch]}>\n      {children}\n    </MovieContext.Provider>\n  );\n};\n\nMovieContextProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport const useMovieContext = () => useContext(MovieContext);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  MovieContextProvider,\n  useMovieContext,\n} from './providers/MovieProvider';\n\nexport const GlobalContextProvider = ({ children }) => (\n  <MovieContextProvider>{children}</MovieContextProvider>\n);\n\nGlobalContextProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport const useGlobalContext = () => ({\n  movie: useMovieContext(),\n});\n\nexport const useGlobalDispatch = () => ({});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nconst Progress = ({ value, done }) => {\n  const valueDisplay = (value / 5) * 100;\n  return (\n    <Box position=\"relative\" display=\"inline-flex\">\n      <CircularProgress\n        style={{ color: done ? '#84EEAB' : '#88CADC', width: 100, height: 100 }}\n        variant=\"determinate\"\n        value={valueDisplay}\n      />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <Typography\n          variant=\"body1\"\n          component=\"div\"\n          color=\"textSecondary\"\n        >{`${value} / 5`}</Typography>\n      </Box>\n    </Box>\n  );\n};\n\nProgress.propTypes = {\n  value: PropTypes.number.isRequired,\n  done: PropTypes.bool.isRequired,\n};\n\nexport default Progress;\n","import React from 'react';\nimport { useGlobalContext } from 'global/context';\nimport Paper from '@material-ui/core/Paper';\n// import HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport Progress from '../Progress/Progress';\nimport './Cart.scss';\n\nconst Cart = () => {\n  const globalContext = useGlobalContext();\n  const [movieState, movieDispatch] = globalContext.movie;\n  const { nominees } = movieState;\n\n  const removePoster = (event) => {\n    const newNoms = nominees.filter(\n      (nominee) => event.target.alt !== nominee.title,\n    );\n    movieDispatch({\n      type: 'SET_NOMINEES',\n      payload: {\n        nominees: newNoms,\n      },\n    });\n  };\n  const indexes = [0, 1, 2, 3, 4];\n  return (\n    <div>\n      <h2 className=\"nomination-text\">Your nominations</h2>\n      <div className=\"cart-wrapper\">\n        <div className=\"progress-wrapper\">\n          {nominees && (\n            <Progress value={nominees.length} done={nominees.length === 5} />\n          )}\n        </div>\n        <div className=\"containers-wrapper\">\n          {indexes.map((ind) =>\n            ind < nominees.length ? (\n              <img\n                className=\"cart-poster-container\"\n                src={nominees[ind].src}\n                alt={nominees[ind].title}\n                key={ind}\n                onClick={removePoster}\n                onKeyDown={removePoster}\n                role=\"presentation\"\n                tabIndex={-1}\n              />\n            ) : (\n              <Paper className=\"cart-poster-container\" key={ind} />\n            ),\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Cart;\n","import axios from 'axios';\n\nconst getMovieSearch = async (searchId) => {\n  const url = new URL(process.env.REACT_APP_API_URL);\n  url.search = new URLSearchParams({\n    apikey: process.env.REACT_APP_API_KEY,\n    s: `*${searchId}*`,\n  });\n\n  if (searchId) {\n    return axios\n      .get(url.toString())\n      .then((result) => result.data.Search)\n      .catch((error) => console.log('error', error));\n  }\n\n  return [];\n};\n\nexport default getMovieSearch;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useGlobalContext } from 'global/context';\nimport './Poster.scss';\n\nconst Poster = ({ poster, title, year }) => {\n  const globalContext = useGlobalContext();\n  const [movieState, movieDispatch] = globalContext.movie;\n  const { nominees } = movieState;\n\n  const checkRepeat = (repeatTitle) => {\n    const match = nominees.filter((nominee) => repeatTitle === nominee.title);\n    return match.length;\n  };\n\n  const handleChoose = (event) => {\n    if (nominees.length < 5 && !checkRepeat(event.target.alt)) {\n      nominees.push({\n        src: event.target.currentSrc,\n        title: event.target.alt,\n      });\n\n      movieDispatch({\n        type: 'SET_NOMINEES',\n        payload: {\n          nominees,\n        },\n      });\n    }\n  };\n\n  return (\n    <div\n      className=\"search-poster-wrapper\"\n      onClick={handleChoose}\n      onKeyDown={handleChoose}\n      role=\"button\"\n      tabIndex={0}\n    >\n      <img className=\"search-poster-wrapper__image\" src={poster} alt={title} />\n      <div>\n        <b>{title}</b>\n      </div>\n      <div>{year}</div>\n    </div>\n  );\n};\n\nPoster.propTypes = {\n  poster: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  year: PropTypes.number.isRequired,\n};\n\nexport default Poster;\n","import React, { useEffect, useState } from 'react';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Paper from '@material-ui/core/Paper';\nimport getMovieSearch from 'utils/movieQueries';\nimport Poster from '../Poster/Poster';\nimport './Search.scss';\n\nconst Search = () => {\n  const [query, setQuery] = useState();\n  const [queryResults, setQueryResults] = useState([]);\n\n  useEffect(() => {\n    const timeOutId = setTimeout(async () => {\n      const results = await getMovieSearch(query);\n      setQueryResults(results);\n    }, 500);\n    return () => clearTimeout(timeOutId);\n  }, [query]);\n\n  const handleChange = (event) => {\n    setQuery(event.target.value);\n  };\n\n  return (\n    <div>\n      <h2 className=\"search-text\">Movies</h2>\n      <div className=\"search-wrapper\">\n        <Paper className=\"search-paper\">\n          <InputBase\n            fullWidth\n            className=\"search-input\"\n            placeholder=\"Search for movies...\"\n            inputProps={{ 'aria-label': 'search for movies' }}\n            onChange={handleChange}\n          />\n          <SearchIcon className=\"search-icon\" />\n        </Paper>\n        <div className=\"grid-wrapper\">\n          <div className=\"search-results-wrapper\">\n            {queryResults &&\n              queryResults.map((movie) => (\n                <Poster\n                  poster={movie.Poster}\n                  title={movie.Title}\n                  year={movie.Year}\n                  key={movie.Title}\n                />\n              ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n","import '../styles/Home.scss';\nimport Cart from '../components/Cart/Cart';\nimport Search from '../components/Search/Search';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Cart />\n      <Search />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { GlobalContextProvider } from './global/context';\nimport './styles/index.css';\nimport Home from './pages/Home';\n\nReactDOM.render(\n  <GlobalContextProvider>\n    <Home />\n  </GlobalContextProvider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}